if (self.CavalryLogger) { CavalryLogger.start_js(["YFZaH"]); }

__d('ContextualLayerBlind',['cx','ContextualBlind','CSS'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={isModal:false,opacity:.3,paddingTop:8,paddingRight:8,paddingBottom:8,paddingLeft:8,style:c('ContextualBlind').STYLE_DARK,fadeDuration:0,marginTop:0},j=250;function k(l,m){'use strict';m=babelHelpers['extends']({},i,m);this.$ContextualLayerBlind4=m.isModal;this.$ContextualLayerBlind2=l;this.$ContextualLayerBlind5=m.opacity;this.$ContextualLayerBlind6=m.paddingTop;this.$ContextualLayerBlind7=m.paddingRight;this.$ContextualLayerBlind8=m.paddingBottom;this.$ContextualLayerBlind9=m.paddingLeft;this.$ContextualLayerBlind10=m.style;this.$ContextualLayerBlind11=m.fadeDuration;this.$ContextualLayerBlind12=m.marginTop;}k.prototype.enable=function(){'use strict';this.$ContextualLayerBlind3=[this.$ContextualLayerBlind2.subscribe(['show','reposition'],this.$ContextualLayerBlind13.bind(this)),this.$ContextualLayerBlind2.subscribe('hide',this.$ContextualLayerBlind14.bind(this))];c('CSS').addClass(this.$ContextualLayerBlind2.getRoot(),"_4746");this.$ContextualLayerBlind1=new (c('ContextualBlind'))();};k.prototype.disable=function(){'use strict';this.$ContextualLayerBlind14();c('CSS').removeClass(this.$ContextualLayerBlind2.getRoot(),"_4746");while(this.$ContextualLayerBlind3.length)this.$ContextualLayerBlind3.pop().unsubscribe();this.$ContextualLayerBlind3=null;this.$ContextualLayerBlind1=null;};k.prototype.$ContextualLayerBlind13=function(){'use strict';if(this.$ContextualLayerBlind2.isShown()){var l=this.$ContextualLayerBlind2.getContext();if(this.$ContextualLayerBlind11>0){this.$ContextualLayerBlind1.fadeIn(l,this.$ContextualLayerBlind6,this.$ContextualLayerBlind7,this.$ContextualLayerBlind8,this.$ContextualLayerBlind9,this.$ContextualLayerBlind4,this.$ContextualLayerBlind5,this.$ContextualLayerBlind11,this.$ContextualLayerBlind10,this.$ContextualLayerBlind12);}else this.$ContextualLayerBlind1.show(l,this.$ContextualLayerBlind6,this.$ContextualLayerBlind7,this.$ContextualLayerBlind8,this.$ContextualLayerBlind9,this.$ContextualLayerBlind4,this.$ContextualLayerBlind5,this.$ContextualLayerBlind10,this.$ContextualLayerBlind12);}};k.prototype.$ContextualLayerBlind14=function(){'use strict';if(this.$ContextualLayerBlind11>0){this.$ContextualLayerBlind1.fadeOut(this.$ContextualLayerBlind5,this.$ContextualLayerBlind11);}else this.$ContextualLayerBlind1.hide();};k.withFade=function(){var l=arguments.length<=0||arguments[0]===undefined?j:arguments[0],m=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];'use strict';return function(){var n,o;n=babelHelpers.inherits(p,k);o=n&&n.prototype;function p(q,r){'use strict';o.constructor.call(this,q,babelHelpers['extends']({},r,{fadeDuration:l},m));}return p;}();};f.exports=k;}),null);
__d("XSavedForLaterNUXSeenController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/saved\/nuxseen\/",{action:{type:"Enum",enumType:1},surface:{type:"Enum",enumType:1},mechanism:{type:"Enum",enumType:1},collection_id:{type:"Int"},object_id:{type:"Int"},interaction_time:{type:"Int"}});}),null);
__d('OnlyMeSharerSaveNux.react',['cx','fbt','AsyncRequest','Banzai','ContextualLayer.react','ContextualLayerBlind','CSS','DataStore','DOM','DOMScroll','Keys','Link.react','Parent','React','ShareModeConst','URI','XSavedForLaterNUXSeenController','XUIContextualDialog.react','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIContextualDialogTitle.react','XUIDialogButton.react','guid'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=null,n=null,o='OnlyMeSharerSaveNux_instance',p='OnlyMeSharerSaveNux_caretMenuLoaded',q="_5jmm",r="_54ne",s='impression',t='saved_for_later:click',u='only_me_sharer_nux',v='learn_more_link',w='only_me_sharer_nux',x='caret',y='dismiss_button',z='esc_button',aa={paddingTop:0,paddingRight:0,paddingBottom:5,paddingLeft:7};j=babelHelpers.inherits(ba,c('React').Component);k=j&&j.prototype;function ba(){var ca,da;'use strict';for(var ea=arguments.length,fa=Array(ea),ga=0;ga<ea;ga++)fa[ga]=arguments[ga];return da=(ca=k.constructor).call.apply(ca,[this].concat(fa)),this.state={isShown:true},this.$OnlyMeSharerSaveNux2=function(ha){var ia,ja;ia=babelHelpers.inherits(ka,c('ContextualLayerBlind'));ja=ia&&ia.prototype;function ka(la){'use strict';ja.constructor.call(this,la,ha);}return ka;},this.$OnlyMeSharerSaveNux3=function(){if(this.props.shareType===c('ShareModeConst').SELF_POST||this.props.shareType==='own'){return i._("Share successful");}else return i._("Message sent");}.bind(this),this.$OnlyMeSharerSaveNux1=function(event){var ha=document.getElementById(this.props.storyContainerId),ia=c('Parent').byClass(ha,q);if(c('DataStore').get(ia,p)===true)setTimeout(function(){var ja=c('DOM').scry(document,'li.save_caret_menu_item');for(var ka=0;ka<ja.length;ka++){var la=ja[ka],ma=c('Parent').byClass(la,'uiLayer');if(ma&&c('CSS').shown(ma)){c('CSS').addClass(la,r);var na=c('DataStore').get(ia,o);na.$OnlyMeSharerSaveNux4(x);var oa=c('DataStore').get(n,'Popover');oa&&oa.subscribeOnce('hide',function(){c('CSS').removeClass(la,r);});break;}}},0);}.bind(this),this.$OnlyMeSharerSaveNux5=function(event){if(event.keyCode===c('Keys').ESC&&this.state.isShown){document.removeEventListener('keyup',this.$OnlyMeSharerSaveNux5);this.$OnlyMeSharerSaveNux4(z);}}.bind(this),this.$OnlyMeSharerSaveNux6=function(){this.$OnlyMeSharerSaveNux4(y);}.bind(this),this.$OnlyMeSharerSaveNux7=function(){c('Banzai').post(t,{og_object_id:this.props.objectId,collection_id:this.props.collectionId,surface:u,mechanism:v,event_id:c('guid')()},{retry:true,delay:0});}.bind(this),this.$OnlyMeSharerSaveNux4=function(ha){this.setState({isShown:false});c('Banzai').post(t,{og_object_id:this.props.objectId,collection_id:this.props.collectionId,surface:u,mechanism:ha,event_id:c('guid')()},{retry:true,delay:0});}.bind(this),this.$OnlyMeSharerSaveNux8=function(ha){if(n!==null&&!ha)n.removeEventListener('click',this.$OnlyMeSharerSaveNux1);if(this.props.wrapper!=null){var ia=c('Parent').byClass(this.props.wrapper,'uiLayer');c('CSS').hide(ia);}}.bind(this),da;}ba.saveOptionLoaded=function(ca){'use strict';var da=document.getElementById(ca);if(da!=null){var ea=c('Parent').byClass(da,q);c('DataStore').set(ea,p,true);var fa=c('DataStore').get(ea,o);if(fa&&fa.state.isShown)fa.$OnlyMeSharerSaveNux1();}};ba.prototype.componentWillMount=function(){'use strict';m=this.$OnlyMeSharerSaveNux2(babelHelpers['extends']({},aa));n=document.getElementById(this.props.caretId);};ba.prototype.componentDidMount=function(){'use strict';var ca=document.getElementById(this.props.storyContainerId),da=c('Parent').byClass(ca,q);c('DataStore').set(da,o,this);n&&n.addEventListener('click',this.$OnlyMeSharerSaveNux1);document.addEventListener('keyup',this.$OnlyMeSharerSaveNux5);setTimeout(function(){c('DOMScroll').ensureVisible(n);},500);var ea=c('XSavedForLaterNUXSeenController').getURIBuilder().setEnum('surface','story').setEnum('mechanism',w).setInt('collection_id',this.props.collectionId).setInt('object_id',this.props.objectId).setEnum('action',s).getURI(),fa=new (c('AsyncRequest'))(ea);fa.send();};ba.prototype.render=function(){'use strict';return (c('React').createElement(c('XUIContextualDialog.react'),{shown:this.state.isShown,contextRef:function ca(){return n;},position:'below',alignment:'right',behaviors:{grayedOutLayer:m},width:400,offsetX:-3,onToggle:this.$OnlyMeSharerSaveNux8},c('React').createElement(c('XUIContextualDialogTitle.react'),null,this.$OnlyMeSharerSaveNux3()),c('React').createElement(c('XUIContextualDialogBody.react'),null,i._("Want a faster way to save posts privately? Open this dropdown menu and click Save.")),c('React').createElement(c('XUIContextualDialogFooter.react'),null,c('React').createElement(c('Link.react'),{className:"_222f",href:new (c('URI'))('/help/516581611792218'),target:'_blank',onClick:this.$OnlyMeSharerSaveNux7},i._("Learn More")),c('React').createElement(c('XUIDialogButton.react'),{label:i._("Got it"),use:'confirm',action:'cancel',onClick:this.$OnlyMeSharerSaveNux6}))));};ba.propTypes={caretId:l.string.isRequired,storyContainerId:l.string.isRequired,wrapper:l.any,collectionId:l.number.isRequired,objectId:l.number,shareType:l.string.isRequired};f.exports=ba;}),null);
__d('SaveCaretMenuItem',['cx','Banzai','CSS','DOM','EntstreamFeedObject','EntstreamFeedObjectFollowup','Event','MenuItem','SaveState','SaveStateHandler','ge'],(function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k='saved_for_later:caret_action',l='imp';i=babelHelpers.inherits(m,c('MenuItem'));j=i&&i.prototype;function m(n){'use strict';j.constructor.call(this,n);this._data=this._updateData();this.getRoot();c('Event').listen(this._anchor,'error',this.handleError.bind(this));c('SaveStateHandler').listen(n.primarysaveid,function(o){this._data=this._updateData();this._doRender(o);}.bind(this));}m.prototype.handleClick=function(){'use strict';var n=j.handleClick.call(this),o=c('EntstreamFeedObject').getRoot(c('ge')(this._data.storydomid));if(this._data.isSaveAction){c('SaveStateHandler').saving(this._data.allsaveids);o&&c('EntstreamFeedObjectFollowup').addFollowup(o,this._data.savefollowupmarkup,["_521o","_4-u3","_3yll"]);}else{c('SaveStateHandler').unsaving(this._data.allsaveids);var p=c('EntstreamFeedObjectFollowup').getFollowup(o);p&&c('EntstreamFeedObjectFollowup').removeFollowup(o);}return n;};m.prototype.handleError=function(){'use strict';if(this._data.isSaveAction){c('SaveStateHandler').saved(this._data.allsaveids);}else c('SaveStateHandler').unsaved(this._data.allsaveids);};m.prototype._updateData=function(){'use strict';var n=babelHelpers['extends']({},this._data);n.isSaveAction=c('SaveStateHandler').isSaveAction(n.primarysaveid);if(n.isSaveAction){n.markup=n.savemarkup;n.ajaxify=n.saveajaxify;n.title=n.savetitle;}else{n.markup=n.unsavemarkup;n.ajaxify=n.unsaveajaxify;n.title=n.unsavetitle;}return n;};m.prototype._doRender=function(n){'use strict';if(!this._root)return;switch(n){case c('SaveState').SAVING:case c('SaveState').UNSAVING:c('CSS').addClass(this._root,"_5arm");setTimeout(this.disable.bind(this),10);break;case c('SaveState').SAVED:case c('SaveState').UNSAVED:c('CSS').removeClass(this._root,"_5arm");setTimeout(this.enable.bind(this),10);break;}c('DOM').replace(this._anchor,this._renderItemContent());c('Event').listen(this._anchor,'error',this.handleError.bind(this));};m.prototype.onShow=function(){'use strict';var n=this._data.logdata;c('Banzai').post(k,{action:l,surface:n.surface,story_id:n.story_id,is_save:this._data.isSaveAction});};f.exports=m;}),null);
__d('FbFeedOptionsExpander',['BanzaiLogger','CSS','DOMQuery','Event'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={expand:function i(j){var k=j.expander,l=j.menu,m=j.foldedClass,n=j.unfoldedClass,o=j.foldedItemClass,p=j.data;c('Event').listen(k,'click',function(){c('CSS').toggleClass(l.getRoot(),m);c('CSS').toggleClass(l.getRoot(),n);var q=c('DOMQuery').scry(l.getRoot(),'li.'+o);q.forEach(function(r){var s=r.getAttribute('data-feed-option-name');if(s)c('BanzaiLogger').log('FeedStoryOptionMenuLoggerConfig',{option_name:s,is_secondary:1,event_type:'imp',feed_location:p.location,session_id:p.session_id,is_sponsored:p.is_sponsored,is_self_story:p.is_self_story});},this);});}};f.exports=h;}),null);